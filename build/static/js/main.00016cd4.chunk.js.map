{"version":3,"sources":["redux/actionCreator.js","component/DragSortingTable/index.jsx","api/request.js","api/config.js","pages/Together/index.jsx","router/router.js","component/layout/BaseLayout.jsx","App.jsx","redux/reducer.js","redux/store.js","index.js"],"names":["mapStateToProps","state","ownProps","num","tabStatus","info","isPc","mapDispatchToProps","dispatch","add","type","getInfo","data","getIsPc","bool","activeTab","index","RNDContext","createDndContext","HTML5Backend","DragableBodyRow","moveRow","className","style","restProps","ref","React","useRef","useDrop","accept","collect","monitor","dragIndex","getItem","isOver","dropClassName","drop","item","useDrag","isDragging","drag","cursor","DragSortingTable","props","columns","useState","setData","components","body","row","useCallback","hoverIndex","dragRow","console","log","update","$splice","manager","DndProvider","current","dragDropManager","dataSource","onRow","record","showHeader","pagination","rowSelection","scroll","y","rowKey","e","order_id","pending","request","config","instance","axios","create","baseURL","timeout","headers","Accept","JSON","parse","localStorage","token","interceptors","response","use","res","result","i","url","defaults","f","removePending","error","Promise","reject","resolve","then","catch","err","QRCode","require","Search","Input","RangePicker","DatePicker","Together","visible","setVisible","visible2","setVisible2","visible3","setVisible3","loading","setLoading","dateTime","setDateTime","isLight","setIsLight","setInfo","rateLine","setRateLine","lineId","setLineId","task","setTask","type1","setType1","type2","setType2","type3","setType3","type4","setType4","time","setTime","changeTime","setChangeTime","showWeima","setShowWeima","showDislog","showDialog","QCData","setQCDate","handleGetInfo","obj","a","shift","date","mm","list","forEach","Number","status","params","method","handleCOmplete","message","success","page","pageSize","day_shift","equipment_id","handleError","handleStart","handleRenew","handleGetQC","form","setFieldsValue","create_number","qc","request_release_force","ply","width","length","release_force","coat_release_force","pipe","winding_bad","scratch","wrinkled","dirty","batch_number","create_roll_number","judgment","user","comment","customer_name","equipment_name","product_model","handleGetHadComplete","Object","keys","ali","document","createElement","download","href","file","event","MouseEvent","dispatchEvent","handleGetHadError","handleGetWeihu","handleGetQc","useEffect","Option","Select","onSearch","val","Form","useForm","onChange","selectedRowKeys","selectedRows","getCheckboxProps","disabled","name","ActionRender","text","size","onClick","showQC","showReset","showStart","showComplete","danger","abnormal_comment","showError","feed_id","showCard","title","render","dataIndex","key","fixed","spinning","format","timePicker","Date","getTime","defaultValue","moment","week","showSearch","height","borderRadius","backgroundColor","marginRight","placeholder","optionFilterProp","value","filterOption","input","option","children","toLowerCase","indexOf","shifts","map","complete_rate","equipment_type_message","rate","equipment","id","target","search","margin","position","marginLeft","color","showTime","start","end","marginTop","nChange","okText","cancelText","onOk","submit","onCancel","bodyStyle","overflowY","labelCol","span","wrapperCol","onFinish","values","Item","label","textAlign","footer","router","connect","history","useHistory","push","path","exact","component","userAgentInfo","navigator","userAgent","Agents","flag","v","IsPC","BaseLayout","to","initState","store","createStore","action","stringify","composeWithDevTools","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.00016cd4.chunk.js","sourcesContent":["// import { } from '../api/api'\n\n\nexport const mapStateToProps = (state, ownProps) => {\n    return {\n        num: state.num,\n        tabStatus: state.tabStatus,//tab路由状态\n        info: state.info,\n        isPc: state.isPc,\n    }\n}\n\nexport const mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        add: () => {\n            dispatch({ type: 'ADD' })\n        },\n        getInfo: (data) => {  // 保存用户信息\n            dispatch({ type: 'INFO', data })\n        },\n        getIsPc: (bool) => {\n            dispatch({ type: 'ISPC', bool })\n        },\n        activeTab: (index) => {  //tab路由状态\n            dispatch({ type: 'TAB', index: index })\n        },\n    }\n}\n\n","import React, { useState , useCallback, useRef} from 'react';\nimport { DndProvider, useDrag, useDrop, createDndContext } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport {Table} from 'antd';\nimport update from 'immutability-helper';\n\nconst RNDContext = createDndContext(HTML5Backend);\n\nconst type = 'DragableBodyRow';\n  const DragableBodyRow = ({ index, moveRow, className, style, ...restProps }) => {\n    const ref = React.useRef();\n    const [{ isOver, dropClassName }, drop] = useDrop({\n      accept: type,\n      collect: monitor => {\n        const { index: dragIndex } = monitor.getItem() || {};\n        if (dragIndex === index) {\n          return {};\n        }\n        return {\n          isOver: monitor.isOver(),\n          dropClassName: dragIndex < index ? ' drop-over-downward' : ' drop-over-upward',\n        };\n      },\n      drop: item => {\n        moveRow(item.index, index);\n      },\n    });\n    const [, drag] = useDrag({\n      item: { type, index },\n      collect: monitor => ({\n        isDragging: monitor.isDragging(),\n      }),\n    });\n    drop(drag(ref));\n    return (\n      <tr\n        ref={ref}\n        className={`${className}${isOver ? dropClassName : ''}`}\n        style={{ cursor: 'move', ...style }}\n        {...restProps}\n      />\n    );\n  };\n  \n  const DragSortingTable: React.FC = (props) => {  \n    const columns = props.columns;\n    const [data, setData] = useState(props.data);\n    const components = {\n      body: {\n        row: DragableBodyRow,\n      },\n    };\n    const moveRow = useCallback(\n      (dragIndex, hoverIndex) => {\n        const dragRow = data[dragIndex];\n        console.log(dragIndex, hoverIndex);\n        setData(\n          update(data, {\n            $splice: [\n              [dragIndex, 1],\n              [hoverIndex, 0, dragRow],\n            ],\n          }),\n        );\n     \n      },\n      [data],\n    );\n    const manager = useRef(RNDContext);\n console.log(props.data)\n\n    return (\n      <DndProvider manager={manager.current.dragDropManager}>\n        <Table\n          columns={columns}\n          dataSource={props.data}\n          components={components}\n          onRow={(record, index) => ({\n            index,\n            moveRow,\n          })}\n          showHeader={props.showHeader}\n          pagination={props.pagination}\n          rowSelection={props.rowSelection}\n          scroll={{y:'170px'}}\n          // bordered\n          rowKey={(e)=>e.order_id}\n        />\n      </DndProvider>\n    );\n  };\n  export default DragSortingTable;","import axios from 'axios'\nimport { baseURL, timeout } from './config'\n\nlet pending = []; //声明一个数组用于存储每个请求的取消函数和axios标识\n// let cancelToken = axios.CancelToken;\nlet removePending = (config) => {\n    // console.log(config);\n    for (let i in pending) {\n        if (pending[i].url === axios.defaults.baseURL + config.url) { //在当前请求在数组中存在时执行取消函数\n            console.log('取消————————————————————-')\n            pending[i].f(); //执行取消操作\n            //pending.splice(i, 1); 根据具体情况决定是否在这里就把pending去掉\n            console.log(pending[i].url);\n        }\n    }\n}\n\nexport function request(config) {\n    const instance = axios.create({\n        baseURL,\n        timeout,\n        headers: {\n//            ' Access-Control-Allow-Origin':'*',\n// 'Access-Control-Allow-Methods':\"POST, GET, OPTIONS, DELETE\",\n            'Cache-Control': 'no-cache',\n            Accept: 'application/json',\n\n            'Content-Type': 'application/json; charset=UTF-8',\n            // 'Content-Type': 'application/x-www-form-urlencoded',\n            'Token': JSON.parse(localStorage.getItem('loginInfo')) && JSON.parse(localStorage.getItem('loginInfo')).token,\n        }\n    })\n\n\n    //! 数据过滤\n    instance.interceptors.response.use(res => {\n        return res.data.result\n    })\n\n    //请求拦截\n    instance.interceptors.request.use(function (res) {\n        removePending(config); //在一个axios发送前执行一下判定操作，在removePending中执行取消操作\n        /**\n         * @addToken\n         */\n        // if (res.params) {\n        //     if (!res.params.userSession) {\n        //         let userSession = sessionStorage.getItem('token')\n        //         if (userSession === \" \") userSession = sessionStorage.getItem('token')\n        //         res.params.userSession = userSession;\n        //     }\n        // } else if (!res.params) {\n        //     res.params = { userSession: sessionStorage.getItem('token') }\n        // }\n\n        return res\n    }, function (error) {\n        return Promise.reject(error)\n    })\n\n    // 此处封装一层捕捉错误\n    return new Promise((resolve, reject) => {\n        instance(config).then(res => {\n            resolve(res)\n        }).catch(err => {\n            /**\n             * @err\n             */\n            if (err.response) {\n\n            }\n        })\n    })\n}\nexport default request;\n","// baseURL = 'http://103.218.240.32'\nexport const baseURL = 'http://119.27.178.70:9501'  //接口地址\nexport const timeout = 10000                    //请求延迟\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport {\n  Button, Input, DatePicker, Spin, Select, Modal, Form, message\n} from 'antd';\nimport DragSortingTable from '../../component/DragSortingTable'\nimport { request } from '../../api/request'\nimport moment from 'moment'\nimport './style.less';\n//二维码\nconst QRCode = require('qrcode.react');\n\nconst { Search } = Input;\nconst { RangePicker } = DatePicker;\n\nconst Together = (props) => {\n  const [visible, setVisible] = useState(false);\n  const [visible2, setVisible2] = useState(false);\n  const [visible3, setVisible3] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  //info过滤\n  const [dateTime, setDateTime] = useState(null);\n  const [isLight, setIsLight] = useState(null)\n\n  const [info, setInfo] = useState({});\n  //选择新旧线\n  const [rateLine, setRateLine] = useState(null)\n  //选择生产线 //设备id\n  const [lineId, setLineId] = useState(null)\n  //list数据\n  const [task, setTask] = useState([])\n  //生产状态\n  const [type1, setType1] = useState(null)//1 将要生产 2.正在生产 3.已完成生产 4.生产异常\n  const [type2, setType2] = useState(null)\n  const [type3, setType3] = useState(null)\n  const [type4, setType4] = useState(null)\n  //时间\n  const [time, setTime] = useState(null)\n\n  //下载时间\n  const [changeTime, setChangeTime] = useState(null)\n  const [showWeima, setShowWeima] = useState(null)\n\n  //显示二维码\n  const [showDislog, showDialog] = useState(false)\n  //qc数据\n  const [QCData, setQCDate] = useState(null)\n  const handleGetInfo = async (obj) => {\n    setLoading(true)\n    const data = await getInfo(obj);\n    setInfo(data);\n    setIsLight(data.shift === '白班' ? 1 : 2)\n    setTime(data.date);\n    const mm = data.list && data.list.list[0] && data.list.list[0].task;\n    setTask(data.list && data.list.list[0] && data.list.list[0])\n    if (mm) {\n      mm.forEach(e => {\n        if (Number(e.status) === 1) setType1(e.item)\n        if (Number(e.status) === 2) setType2(e.item)\n        if (Number(e.status) === 3) setType3(e.item)\n        if (Number(e.status) === 4) setType4(e.item)\n      })\n    }\n    else {\n      setType1(null);\n      setType2(null)\n      setType3(null)\n      setType4(null)\n    }\n    setLoading(false)\n\n  }\n  //调用数据\n  const getInfo = (params) => {\n    return request({\n      method: 'get',\n      url: '',\n      params: params  //post data:\n    })\n  }\n\n  const getComplete = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/complete',\n      params: params  //post data:\n    })\n  }\n  const handleCOmplete = async (obj) => {\n    await getComplete(obj);\n    message.success('状态更新成功！')\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n  }\n\n  const getError = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/anomaly',\n      params: params  //post data:\n    })\n  }\n  const handleError = async (obj) => {\n    await getError(obj);\n    message.success('状态更新成功！')\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n\n  }\n  const getStart = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/start',\n      params: params  //post data:\n    })\n  }\n  const handleStart = async (obj) => {\n    await getStart(obj);\n    message.success('状态更新成功！');\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n\n  }\n\n  const getRenew = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/renew',\n      params: params  //post data:\n    })\n  }\n  const handleRenew = async (obj) => {\n    await getRenew(obj);\n    message.success('状态更新成功！');\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n\n  }\n  //QC\n  const getQC = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/qc',\n      params: params  //post data:\n    })\n  }\n  const handleGetQC = async (obj) => {\n    const data = await getQC(obj);\n    if (data) {\n      form.setFieldsValue({\n        create_number: data.qc.create_number,\n        order_id: obj.order_id,\n        request_release_force: data.qc.request_release_force,\n        ply: data.qc.ply,\n        width: data.qc.width,\n        length: data.qc.length,\n        release_force: data.qc.release_force,\n        coat_release_force: data.qc.coat_release_force,\n        pipe: data.qc.pipe,\n        winding_bad: data.qc.winding_bad,\n        scratch: data.qc.scratch,\n        wrinkled: data.qc.wrinkled,\n        dirty: data.qc.dirty,\n        batch_number: data.qc.batch_number,\n        create_roll_number: data.qc.create_roll_number,\n        judgment: data.qc.judgment,\n        user: data.qc.user,\n        comment: data.qc.comment,\n        customer_name: data.info.customer_name,\n        equipment_name: data.info.equipment_name,\n        product_model: data.info.product_model,\n      })\n    }\n\n  }\n\n  //下载已完成\n  const getHadComplete = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/export/complete',\n      params: params  //post data:\n    })\n  }\n  const handleGetHadComplete = async (obj) => {\n    const data = await getHadComplete(obj);\n    if (Object.keys(data).length > 0) {\n      setLoading(true)\n\n      const ali = document.createElement('a');\n      ali.download = \"已完成清单\";\n      ali.href = data.file;\n      const event = new MouseEvent('click');\n      ali.dispatchEvent(event);\n      setLoading(false);\n    }\n    else {\n      message.error('当前时间暂无数据')\n    }\n  }\n\n  //下载 异常清单\n  const getHadError = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/export/anomaly',\n      params: params  //post data:\n    })\n  }\n  const handleGetHadError = async (obj) => {\n    const data = await getHadError(obj);\n    if (Object.keys(data).length > 0) {\n      setLoading(true)\n\n      const ali = document.createElement('a');\n      ali.download = \"异常清单\";\n      ali.href = data.file;\n      const event = new MouseEvent('click');\n      ali.dispatchEvent(event);\n      setLoading(false);\n    } else {\n      message.error('当前时间暂无数据')\n    }\n  }\n\n  //维护时间\n  const getWeihu = (params) => {\n    return request({\n      method: 'get',\n      url: '/task/export/anomaly',\n      params: params  //post data:\n    })\n  }\n  const handleGetWeihu = async (obj) => {\n    await getWeihu(obj);\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n  }\n  //qc更新\n  const getQc = (params) => {\n    return request({\n      method: 'post',\n      url: '/task/qc/update',\n      params: params  //post data:\n    })\n  }\n  const handleGetQc = async (obj) => {\n    await getQc(obj);\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n    })\n    message.success('更新成功！')\n  }\n\n\n\n  useEffect(() => {\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId\n    });\n  }, [])\n\n  const { Option } = Select;\n\n  function onChange1(value) {\n    console.log(`selected ${value}`);\n    setRateLine(value)\n  }\n\n  function onChange2(value) {\n    console.log(`selected ${value}`);\n    setLineId(value);\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: value,\n      date: dateTime,\n      equipment_id: value\n    })\n  }\n\n  function onChange3(value) {\n    console.log(`selected ${value}`);\n    setIsLight(value)\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: value,\n      date: dateTime,\n      equipment_id: lineId\n    })\n  }\n\n  function onSearch(val) {\n    console.log('search:', val);\n  }\n\n  const layout = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 16 },\n  };\n\n  const [form] = Form.useForm();\n\n  const onFinish = values => {\n    delete values.customer_name;\n    delete values.equipment_name;\n    delete values.product_model;\n    handleGetQc({...values,order_id:QCData })\n  };\n\n  //选择table项\n  const rowSelection = {\n\n    onChange: (selectedRowKeys, selectedRows) => {\n      console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n    },\n\n    getCheckboxProps: record => ({\n      disabled: record.name === 'Disabled User', // Column configuration not to be checked\n      name: record.name,\n    }),\n  };\n  const dateFormat = 'YYYY年MM月DD日';\n  const changeTime1 = (e) => {\n    const time = e.format('YYYY-MM-DD');\n    const timePicker = new Date(time).getTime() / 1000;\n    setDateTime(timePicker)\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: timePicker,\n      equipment_id: lineId\n    })\n  }\n  //search for\n  const changeSearch = (e) => {\n    const val = e.target.value;\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n      search: val\n    })\n  }\n  const changeSearch2 = (e) => {\n    handleGetInfo({\n      page: 1,\n      pageSize: 10,\n      day_shift: isLight,\n      date: dateTime,\n      equipment_id: lineId,\n      search: e\n    })\n  }\n\n  const showQC = (record) => {\n    setVisible(true);\n    handleGetQC({\n      order_id: record.order_id\n    })\n    setQCDate(record.order_id)\n  }\n  const showReset = (record) => {\n    handleRenew({\n      order_id: record.order_id,\n\n    })\n  }\n  const showComplete = (record) => {\n    handleCOmplete({\n      order_id: record.order_id\n    })\n  }\n  const showError = (record) => {\n    handleError({\n      order_id: record.order_id,\n      abnormal_comment: record.abnormal_comment\n\n    })\n  }\n  const showCard = (record) => {\n    console.log(record);\n    setShowWeima(record.feed_id)\n    showDialog(true)\n\n  }\n  const showStart = (record) => {\n    handleStart({\n      order_id: record.order_id,\n    })\n  }\n  //删除\n  // const showDelete = (record) => {\n  // }\n  const ActionRender = (text, record) => {\n    const status = record.status;\n    return (\n      <div>\n\n        {  status === 3 ? <Button size=\"small\" type=\"primary\" onClick={() => showQC(record)}>QC</Button> : ''}\n        {  status === 4 ? <Button size=\"small\" type=\"primary\" onClick={() => showReset(record)}>恢复</Button> : ''}\n        {  status === 1 ? <Button size=\"small\" type=\"primary\" onClick={() => showStart(record)}>开始</Button> : ''}\n\n        {status === 2 ? <Button size=\"small\" type=\"primary\" onClick={() => showComplete(record)}>完成</Button> : ''}\n        { (status === 2) ? <Button size=\"small\" danger onClick={() => showError(record)}>异常</Button> : ''}\n        { (status === 1 || status === 2 || status === 3) ? <Button size=\"small\" danger onClick={() => showCard(record)}>二维码</Button> : ''}\n        {/* {  status === 2 ? <Button size=\"small\" type=\"primary\" onClick={() => showDelete(record)}>删除</Button> : ''} */}\n\n\n      </div>\n    )\n\n  }\n  const columns = [\n    {\n      title: '序号',\n      width: 200,\n      render: (text, record, index) => <span>{index + 1}</span>\n    },\n    {\n      title: '销售订单',\n      dataIndex: 'order_id',\n      key: 'order_id',\n      width: 200\n    },\n    {\n      title: '购货单位',\n      dataIndex: 'customer_name',\n      key: 'customer_name',\n      width: 200,\n    },\n    {\n      title: '规格型号',\n      dataIndex: 'customer_model',\n      key: 'customer_model',\n      width: 200\n    },\n    {\n      title: '产品规格(厚*宽*长*只)',\n      dataIndex: 'product_model',\n      key: 'product_model',\n      width: 200\n    },\n    {\n      title: '交货日期',\n      dataIndex: 'customer_require_date',\n      key: 'customer_require_date',\n      width: 200\n    },\n    {\n      title: '开始时间',\n      dataIndex: 'start',\n      key: 'start',\n      width: 200\n    },\n    {\n      title: '预计完成时间',\n      dataIndex: 'pre_date',\n      key: 'pre_date',\n      width: 200\n    },\n    {\n      title: '完成时间',\n      dataIndex: 'complete_date',\n      key: 'complete_date',\n      width: 200\n    },\n    {\n      title: '投料单单号',\n      dataIndex: 'feed_id',\n      key: 'feed_id',\n      width: 200\n    },\n    {\n      title: '总平方数',\n      dataIndex: 'square',\n      key: 'square',\n      width: 200\n    },\n    {\n      title: '提供生产批号',\n      dataIndex: 'support_create_number',\n      key: 'support_create_number',\n      width: 200\n    },\n    {\n      title: '是否可接膜',\n      dataIndex: 'is_add_membrane',\n      key: 'is_add_membrane',\n      width: 200\n    },\n    {\n      title: '是否可多米',\n      dataIndex: 'is_more_mi',\n      key: 'is_more_mi',\n      width: 200\n    },\n    {\n      title: '是否可少米',\n      dataIndex: 'is_less_mi',\n      key: 'is_less_mi',\n      width: 200\n    },\n    {\n      title: '是否可彩纹印',\n      dataIndex: 'is_color_printing',\n      key: 'is_color_printing',\n      width: 200\n    },\n    {\n      title: '是否可换规格',\n      dataIndex: 'is_change_specification',\n      key: 'is_change_specification',\n      width: 200\n    },\n    {\n      title: '备注',\n      dataIndex: 'comment26',\n      key: 'comment26',\n      width: 200\n    },\n    {\n      title: '异常备注',\n      dataIndex: 'abnormal_comment',\n      key: 'abnormal_comment',\n      width: 200\n    },\n    {\n      title: '操作',\n      width: 300,\n      fixed: 'right',\n      render: (text, record) => ActionRender(text, record)\n    },\n  ];\n  const handleOk = () => {\n    setVisible3(false)\n    handleGetHadError({\n      date: changeTime\n    })\n\n\n  }\n  const handleCancel = () => {\n    setVisible3(false)\n    handleGetHadComplete({\n      date: changeTime\n    })\n\n  }\n\n  //选择时间\n  const handleChangeTime = (e) => {\n    console.log(e);\n    const time = e.format('YYYY-MM-DD');\n    const timePicker = new Date(time).getTime() / 1000;\n    setChangeTime(timePicker)\n  }\n\n  //维护\n  const handleChangeWeihu = (e) => {\n    const start = e[0].format('YYYY-MM-DD H:m');\n    const end = e[1].format('YYYY-MM-DD H:m');\n    handleGetWeihu({\n      equipment_id: lineId,\n      start,\n      end\n\n    })\n\n\n\n  }\n  //异常停机\n\n  const handleChangeStop = (e) => {\n    const start = e[0].format('YYYY-MM-DD H:m');\n    const end = e[1].format('YYYY-MM-DD H:m');\n\n    console.log(start, end);\n\n  }\n\n  const handleOk2 = () => {\n    setVisible(false)\n    form.submit();\n  }\n  return (\n    <Spin\n      spinning={loading}\n    >\n      <div className=\"together2\">\n        <div className=\"menu-header\">\n          <div className=\"header-top\">\n            <div className=\"top-time\">\n              {time && <DatePicker style={{ width: '160px' }} onChange={changeTime1} defaultValue={moment('2020年' + time, dateFormat)} format={dateFormat} />}            </div>\n            <div className=\"top-time\">{info.week}</div>\n            <div className=\"top-time\">\n              <Select\n                className=\"pic\"\n                showSearch\n                style={{\n                  width: 90,\n                  height: 32,\n                  borderRadius: 3,\n                  backgroundColor: 'rgba(255, 255, 255, 1) ',\n                  marginRight: 15\n                }}\n                placeholder=\"请选择班次\"\n                optionFilterProp=\"children\"\n                onChange={onChange3}\n                onSearch={onSearch}\n                filterOption={(input, option) =>\n                  option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                }\n                value={isLight}\n              >\n                {info.shifts && info.shifts.map(e => <Option key={e.value} value={e.key}>{e.value}</Option>\n                )}\n\n              </Select>\n            </div>\n          </div>\n          <div className=\"header_center\">\n            <div className=\"center_select line\">\n              <Select\n                showSearch\n                style={{ width: 100, marginRight: 15 }}\n                placeholder=\"请选择\"\n                optionFilterProp=\"children\"\n                onChange={onChange1}\n                onSearch={onSearch}\n                filterOption={(input, option) =>\n                  option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                }\n                value={rateLine}\n              >\n                {info.complete_rate && info.complete_rate.map(\n                  (e, index) => <Option key={e.equipment_type_message} value={e.equipment_type_message}>{e.equipment_type_message}</Option>\n                )}\n              </Select>\n            </div>\n            <div className=\"center_number line\"> 完成率({\n              (rateLine === '旧线') ? info.complete_rate && info.complete_rate[0].rate : info.complete_rate && info.complete_rate[1].rate\n            })\n            <Button type='primary' className='btn' onClick={() => setVisible3(true)}>导出为Excel</Button>\n            </div>\n          </div>\n        </div>\n        <div className=\"pan\">\n          <div className=\"search\">\n            <div className=\"line\">\n              <p className=\"pic\">生产线</p>\n              <div className='input_wrap'>\n                <Select\n                  className=\"pic\"\n                  showSearch\n                  style={{\n                    width: 300,\n                    height: 32,\n                    borderRadius: 3,\n                    backgroundColor: 'rgba(255, 255, 255, 1) ',\n                    marginRight: 15\n                  }}\n                  placeholder=\"请选择生产线\"\n                  optionFilterProp=\"children\"\n                  onChange={onChange2}\n                  onSearch={onSearch}\n                  filterOption={(input, option) =>\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                  }\n                  value={lineId}\n                >\n                  {info.equipment && info.equipment.map(e => <Option key={e.name} value={e.id}>{e.name}</Option>\n                  )}\n\n                </Select>\n                <Search placeholder=\"请输入客户名或规格型号\"\n                  onChange={changeSearch}\n                  onSearch={changeSearch2}\n                />\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n        <div className=\"together-content\">\n          <div className=\"showTable_mobile\">\n            <div className='table'>\n              <div className='table_left'>\n                <p style={{margin:'0',position:'absolute',marginLeft:'10px',color:'#4e4b4b'}}>请输入维护时间:</p>\n                <RangePicker showTime className='line_input' onChange={handleChangeWeihu} style={{marginTop:'30px'}}/>\n                <p style={{margin:'0',position:'absolute',marginLeft:'10px',color:'#4e4b4b'}}>请输入异常停机时间:</p>\n\n                <RangePicker showTime className='line_input' nChange={handleChangeStop}  style={{marginTop:'30px'}}/>\n                <div className='product_name line_input'>{task && task.name}</div>\n                {task && <div className='success_percent line_input'>完成率({task.rate})</div>\n                }              </div>\n              <div className='table_right'>\n                <div className=\"table_container\">\n                  <div className='table_line'>\n                    <div className='tabel_type'><p>正在生产</p></div>\n                    <div className=\"type_table\"> <DragSortingTable showHeader={true} data={type2} columns={columns} pagination={false} /></div>\n                  </div>\n                  <div className='table_line'>\n                    <div className='tabel_type'><p>将要生产</p></div>\n                    <div className=\"type_table\"> <DragSortingTable showHeader={false} data={type1} columns={columns} pagination={false} /></div>\n                  </div>\n                  <div className='table_line'>\n                    <div className='tabel_type'><p>已完成生产</p></div>\n                    <div className=\"type_table\"> <DragSortingTable showHeader={false} data={type3} columns={columns} pagination={false} /></div>\n                  </div>\n                  <div className='table_line'>\n                    <div className='tabel_type'><p>生产异常</p></div>\n                    <div className=\"type_table\"> <DragSortingTable showHeader={false} data={type4} columns={columns} /></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n        <Modal title={'qc数据'}\n          visible={visible}\n          okText='确认'\n          cancelText=\"取消\"\n          onOk={handleOk2}\n          onCancel={() => setVisible(false)}\n          bodyStyle={{\n            height: '500px',\n            overflowY: 'scroll'\n          }}\n        >\n          <Form {...layout} form={form} name=\"control-hooks\" onFinish={onFinish}>\n            <Form.Item name=\"customer_name\" label=\"购货单位\" >\n              <Input disabled />\n            </Form.Item>\n            <Form.Item name=\"equipment_name\" label=\"设备名称\" >\n              <Input disabled />\n            </Form.Item>\n            <Form.Item name=\"product_model\" label=\"产品规格(厚*宽*长*只)\">\n              <Input disabled />\n            </Form.Item>\n            <Form.Item name=\"create_number\" label=\"生产批号\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"request_release_force\" label=\"要求离型力\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"ply\" label=\"厚度\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"width\" label=\"宽度\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"length\" label=\"长度\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"release_force\" label=\"实测离型力\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"coat_release_force\" label=\"涂布离型力\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"pipe\" label=\"内管\" >\n              <Input />\n            </Form.Item>\n\n            <Form.Item name=\"winding_bad\" label=\"收卷 不良\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"scratch\" label=\"擦花\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"wrinkled\" label=\"压痕/褶皱\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"dirty\" label=\"脏污/白印\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"batch_number\" label=\"接头/批号说明\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"create_roll_number\" label=\"生产卷数\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"judgmen\" label=\"判定\" >\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"user\" label=\"检验员\">\n              <Input />\n            </Form.Item>\n            <Form.Item name=\"comment\" label=\"备注\" >\n              <Input />\n            </Form.Item>\n          </Form>\n        </Modal>\n        <Modal title=\"下一班将要生产\"\n          visible={visible2}\n          okText='确认'\n          cancelText=\"取消\"\n          onOk={() => setVisible2(false)}\n          onCancel={() => setVisible2(false)}\n          width={1080}\n        >\n          <DragSortingTable showHeader={true} columns={columns} data={type1} rowSelection={{\n            ...rowSelection,\n          }} />\n        </Modal>\n        <Modal title='请选择日期'\n          visible={visible3}\n          okText='下载异常清单'\n          cancelText=\"下载已完成清单\"\n          onOk={handleOk}\n          onCancel={handleCancel}\n          width={400}\n        >\n          <DatePicker placeholder='请选择时间' style={{ marginLeft: 15, width: 300 }} onChange={handleChangeTime} format={dateFormat} />\n        </Modal>\n\n        <Modal title='二维码'\n          visible={showDislog}\n          okText='确定'\n          cancelText=\"取消\"\n          onOk={() => showDialog(false)}\n          onCancel={() => showDialog(false)}\n          width={300}\n          bodyStyle={{\n            textAlign: 'center',\n\n          }}\n          footer={null}\n        >\n          <QRCode value={showWeima} size={200} onClick={() => showDialog(true)} />\n        </Modal>\n      </div>\n\n    </Spin>\n\n\n  );\n};\nexport default Together;\n","// import icon from '../assets/icon/icon'\n\n// import Home from '../pages/Home/Home'\n// import Test from '../pages/test/index'\n// import Together from '../pages/Together'\n\nlet router = () => {\n    return {\n        // index: {\n        //     url: '/test',\n        //     // icon: icon.Index,\n        //     // activeIcon: icon.Active.Index,\n        //     desc: 'test',\n        //     page: Test,\n        // },\n        // home: {\n        //     url: '/home',\n        //     // icon: icon.Home,\n        //     // activeIcon: icon.Active.Home,\n        //     desc: '主页',\n        //     page: Home\n        // },\n        // together:{\n        //     url:'/together',\n        //     desc:'聚合码',\n        //     page:Together\n        // }\n    }\n}\nexport default router();","import React from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { mapStateToProps, mapDispatchToProps } from '../../redux/actionCreator'\nimport { connect } from 'react-redux'\nimport Together from '../../pages/Together'\n// import MobileTogether from '../../pages/MobileTogether'\nimport './BaseLayout.scss'\n//路由\nimport router from '../../router/router'\nfunction _Layout(props) {\nlet history=useHistory()\n// setTimeout(() => {\n        if (!props.info) {\n        console.log(history,props);\n         history.push('/login')\n    }\n// }, 300);\n\n\n    return (\n        <div>\n            { // 路由tab栏\n                Object.values(router).map(e => {\n                    return (\n                        <Route path={e.url} exact component={e.page} key={e.url} />\n                    )\n                })\n            }\n\n            {/* <TabBar /> */}\n            <div>\n                {console.log(props.isPc)}\n                {props.isPc !== 'init' ? <>{!props.isPc ?<Together /> : <Together /> }</> : null}\n            </div>\n        </div>\n    )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(_Layout)","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react'\nimport { mapStateToProps, mapDispatchToProps } from './redux/actionCreator'\nimport { connect } from 'react-redux'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\n\n\n//路由\n// import router from './router/router'\n\n//布局组件\nimport BaseLayout from './component/layout/BaseLayout'\n\nimport './App.css'\n\n\n//组件\n// import Login from './pages/Login'\nimport { useEffect } from 'react'\n\nfunction _App(props) {\n    function IsPC() {\n        var userAgentInfo = navigator.userAgent;\n        console.log(userAgentInfo);\n\n        var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\n        var flag = true;\n        for (var v = 0; v < Agents.length; v++) {\n            if (userAgentInfo.indexOf(Agents[v]) > 0) {\n                flag = false;\n                break;\n            }\n        }\n        return flag;\n    }\n\n    useEffect(() => {\n        // if (!IsPC()) {\n        //     new VConsole()\n        // }\n        props.getIsPc(IsPC())\n        if (localStorage.getItem('loginInfo')) {\n            if (Object.keys(JSON.parse(localStorage.getItem('loginInfo')))[0]) {\n                props.getInfo(JSON.parse(localStorage.getItem('loginInfo')))\n            }\n        }else{\n            props.getInfo({})\n        }\n    }, [props.IsPC])\n    return (\n        <>\n            <Router>\n                <Switch>\n                    {/* <Route path='/login' exact component={Login}></Route> */}\n                    <Route path='/' exact component={BaseLayout} ></Route>\n                    <Redirect to=\"/404\" />\n                </Switch>\n            </Router>\n        </>\n    )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(_App)\n","let initState = {\n    num: 0,\n    tabStatus: 0,\n    info: {},\n    isPc: 'init',\n}\n\n\nexport const reducer = (state = initState, action) => {\n    switch (action.type) {\n        case 'ADD':\n            state.num++\n            break;\n        case \"TAB\":\n            state.tabStatus = action.index\n            break;\n        case 'INFO':\n            state.info = action.data\n            break;\n        case 'ISPC':\n            state.isPc = action.bool\n            break;\n        default:\n            return state\n    }\n    return JSON.parse(JSON.stringify(state))\n}","import {\n    createStore,\n    //  applyMiddleware\n} from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n// import thunk from 'redux-thunk'\nimport { reducer } from './reducer'\nconst store = createStore(reducer, composeWithDevTools())\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}